import React, {useState, useEffect} from 'react';import Controls from "../components/form/Controls";import List from "../components/List";import Card from "../components/Card";import {useNavigate} from "react-router-dom";import axios from "axios";import {ALL_COUNTRIES} from "../config";const HomePage = ({countries, setCountries}) => {    const [filteredCountries, setFilteredCountries] =useState(countries);    useEffect(() => {        if(!countries.length)        axios.get(ALL_COUNTRIES).then(response => {            setCountries(response.data)        })    }, []);    useEffect(()=> {handlerSearch()}, [countries])    const handlerSearch = (searchInput, region) => {        let data = [...countries]        if(region) {            data = data.filter(country => country.region.includes(region))        }        if(searchInput) {            data = data.filter(country => country.name.common.toLowerCase().includes(searchInput.toLowerCase()))        }        setFilteredCountries(data);    }    const navigate = useNavigate();    const push = (country) => {        navigate(`/country/${country}`)    }    return (        <>            <Controls onSearch={handlerSearch}/>            <List>                {                    filteredCountries.map((country, index) => {                        const countryInfo = {                            img: country.flags.png,                            name: {...country.name},                            languages: {...country.languages},                            region: country.region,                            info: [                                {                                    title: 'Population',                                    description: country.population.toLocaleString()                                },                                {                                    title: 'Capital',                                    description: country.capital[0]                                }                            ]                        }                        return <Card                            key={index}                            name={countryInfo.name}                            language={countryInfo.languages}                            img={countryInfo.img}                            info={countryInfo.info}                            onClick={() => push(countryInfo.name.common)}                        />                    })                }            </List>        </>    );};export default HomePage;